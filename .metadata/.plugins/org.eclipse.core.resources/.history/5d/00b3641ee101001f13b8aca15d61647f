package com.ezen.test.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;

import com.ezen.test.domain.BoardVO;
import com.ezen.test.service.BoardService;

import lombok.RequiredArgsConstructor;
import lombok.extern.slf4j.Slf4j;

@RequestMapping("/board/*")
@Slf4j
@RequiredArgsConstructor
@Controller
public class BoardController {
    private final BoardService bsv; // BoardService 주입을 위한 final 필드 추가
    
    // 생성자 주입을 통해 BoardService 주입받도록 변경
    public BoardController(BoardService bsv) {
        this.bsv = bsv;
    }
    
    @GetMapping("/register")
    public String register() {
        return "/board/register";
    }
    
    @PostMapping("/insert")
    public String insert(BoardVO bvo) {
        log.info(">>>> bvo >> {}", bvo);
        
        int isOk = bsv.insert(bvo);
        return "/";
    }
}
